<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ูุงุฆูุฉ ุชุฌููุฒุงุช ุงููุฑุญ โ ุตูุญุฉ ูุงุญุฏุฉ</title>
    <!-- Tailwind CDN for quick styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React + ReactDOM (UMD) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for in-browser JSX compilation (only for this single-file demo) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body class="bg-gradient-to-br from-pink-50 via-rose-50 to-purple-50 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect } = React;

      function usePersistentChecked(key, initial = {}) {
        const [state, setState] = useState(() => {
          try {
            const raw = localStorage.getItem(key);
            return raw ? JSON.parse(raw) : initial;
          } catch (e) {
            return initial;
          }
        });

        useEffect(() => {
          try {
            localStorage.setItem(key, JSON.stringify(state));
          } catch (e) {}
        }, [key, state]);

        return [state, setState];
      }

      function WeddingPlanner() {
        const [checkedItems, setCheckedItems] = usePersistentChecked('wedding-checked', {});

        const toggleCheck = (section, index) => {
          const key = `${section}-${index}`;
          setCheckedItems(prev => ({ ...prev, [key]: !prev[key] }));
        };

        const isChecked = (section, index) => !!checkedItems[`${section}-${index}`];

        const getProgress = (items, section) => {
          if (!items || items.length === 0) return 0;
          const checked = items.filter((_, i) => isChecked(section, i)).length;
          return Math.round((checked / items.length) * 100);
        };

        const ktbElKitabItems = [
          { text: 'ุงููุณุชุงู', icon: '๐' },
          { text: 'ุงูุจุฏูุฉ', icon: '๐คต' },
          { text: 'ุงูุจูููุฉ', icon: '๐' },
          { text: 'ุงูุจุตูุฉ + ุงูููุฏูู + ุงูุจุฑูุด', icon: '๐' },
          { text: 'ูุฑู ุงูุตุญุฉ (ุงูุจุทุงูุฉ + ุตูุฑ ุดุฎุตูุฉ 4ร6)', icon: '๐' },
          { text: 'ุงูููุงู', icon: '๐๏ธ' },
          { text: 'ุงููุฃุฐูู', icon: '๐' }
        ];

        const yomElfarahItems = [
          { text: 'ุงููุณุชุงู', icon: '๐', price: null },
          { text: 'ุงูุทุฑุญุฉ', icon: '๐ฐ', price: '1000' },
          { text: 'ุงููููุงุจ', icon: '๐', price: '4000' },
          { text: 'ุงูููุชุฌุฑุงูุฑ (ุงูู ุญูุฏู)', icon: '๐ธ', price: '5000' },
          { text: 'ุงูุจูููุฉ', icon: '๐', price: null },
          { text: 'ุงูุจุฏูุฉ', icon: '๐คต', price: null },
          { text: 'ุงูููุงู (ููุงู ุงููููุงุจ ูุงูุณูุดู ูุงูุจุงุฑุชู ููุฃูู)', icon: '๐ฐ', price: null }
        ];

        const totalCost = yomElfarahItems
          .filter(i => i.price)
          .reduce((sum, item) => sum + parseInt(item.price, 10), 0);

        return (
          <div dir="rtl" className="p-6 max-w-5xl mx-auto">
            <header className="text-center mb-8">
              <div className="inline-flex items-center justify-center bg-gradient-to-r from-pink-600 via-rose-600 to-purple-600 text-white px-6 py-4 rounded-3xl shadow-lg">
                <div className="text-3xl ml-4">๐</div>
                <div>
                  <h1 className="text-3xl font-bold">ูุงุฆูุฉ ุชุฌููุฒุงุช ุงููุฑุญ</h1>
                  <div className="text-sm opacity-90">ูู ุฃูุง ู ุดุฑููุชู / ุดุฑููู โ ุตูุญุฉ ูุงุญุฏุฉ</div>
                </div>
              </div>
            </header>

            <section className="mb-8">
              <div className="bg-white rounded-2xl p-6 shadow-md border-2 border-pink-100">
                <div className="flex items-center justify-between mb-4">
                  <div>
                    <h2 className="text-2xl font-bold">ูุชุจ ุงููุชุงุจ</h2>
                    <p className="text-sm text-pink-500">ุงูุฎุทูุฉ ุงูุฃููู ุงููุจุงุฑูุฉ</p>
                  </div>
                  <div className="text-xl font-bold">{getProgress(ktbElKitabItems, 'ktb')}%</div>
                </div>

                <div className="space-y-3">
                  {ktbElKitabItems.map((it, i) => (
                    <div key={i} onClick={() => toggleCheck('ktb', i)} className={`flex items-center gap-4 p-3 rounded-lg cursor-pointer transition ${isChecked('ktb', i) ? 'bg-green-50 border border-green-200' : 'bg-pink-50 border border-pink-100'}`}>
                      <div className={`w-10 h-10 rounded-lg flex items-center justify-center ${isChecked('ktb', i) ? 'bg-green-500 text-white' : 'bg-white'}`}>{isChecked('ktb', i) ? 'โ๏ธ' : it.icon}</div>
                      <div className={`${isChecked('ktb', i) ? 'line-through text-green-700' : ''}`}>{it.text}</div>
                    </div>
                  ))}
                </div>
              </div>
            </section>

            <section className="mb-8">
              <div className="bg-white rounded-2xl p-6 shadow-md border-2 border-purple-100">
                <div className="flex items-center justify-between mb-4">
                  <div>
                    <h2 className="text-2xl font-bold">ููู ุงููุฑุญ</h2>
                    <p className="text-sm text-purple-500">ุงูููู ุงูุฃุฌูู ูู ุงูุนูุฑ</p>
                  </div>
                  <div className="text-xl font-bold">{getProgress(yomElfarahItems, 'farah')}%</div>
                </div>

                <div className="space-y-3 mb-4">
                  {yomElfarahItems.map((it, i) => (
                    <div key={i} onClick={() => toggleCheck('farah', i)} className={`flex items-center gap-4 p-3 rounded-lg cursor-pointer transition ${isChecked('farah', i) ? 'bg-green-50 border border-green-200' : 'bg-purple-50 border border-purple-100'}`}>
                      <div className={`w-10 h-10 rounded-lg flex items-center justify-center ${isChecked('farah', i) ? 'bg-green-500 text-white' : 'bg-white'}`}>{isChecked('farah', i) ? 'โ๏ธ' : it.icon}</div>
                      <div className="flex-1 flex items-center justify-between">
                        <div className={`${isChecked('farah', i) ? 'line-through text-green-700' : ''}`}>{it.text}</div>
                        {it.price && <div className="bg-yellow-400 text-white px-3 py-1 rounded-md font-bold">{Number(it.price).toLocaleString('ar-EG')} ุฌ</div>}
                      </div>
                    </div>
                  ))}
                </div>

                <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-center justify-between">
                  <div className="font-bold">ุฅุฌูุงูู ุงูุชูุงููู ุงููุญุฏุฏุฉ</div>
                  <div className="text-lg font-bold text-orange-600">{totalCost.toLocaleString('ar-EG')} ุฌ</div>
                </div>
              </div>
            </section>

            <footer className="text-center mt-8">
              <div className="bg-gradient-to-r from-pink-500 via-rose-500 to-purple-500 text-white rounded-2xl p-4 inline-block shadow-lg">
                <div className="text-xl font-bold">ูุจุฑูู ููุฏูุงู! ๐</div>
                <div className="text-sm opacity-90">ุชู ุญูุธ ุชูุฏููู ุชููุงุฆูุงู ุนูู ูุฐุง ุงููุชุตูุญ</div>
              </div>
            </footer>
          </div>
        );
      }

      ReactDOM.createRoot(document.getElementById('root')).render(<WeddingPlanner />);
    </script>
  </body>
</html>
